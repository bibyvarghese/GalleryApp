<VirtualHost *:80>
    ServerName localhost

    RewriteEngine On
    # Redirect HTTP to HTTPS
    RewriteCond %{HTTPS} off
    RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

    # Proxy to Node.js app
    ProxyPreserveHost On
    ProxyPass / http://galleryapp:3000/
    ProxyPassReverse / http://galleryapp:3000/

    ErrorLog /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined
</VirtualHost>
