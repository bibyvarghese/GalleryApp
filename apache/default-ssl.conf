<VirtualHost *:443>
    ServerName localhost

    SSLEngine on
    SSLCertificateFile "/usr/local/apache2/conf/ssl/nginx-selfsigned.crt"
    SSLCertificateKeyFile "/usr/local/apache2/conf/ssl/nginx-selfsigned.key"

    # Strong SSL settings
    SSLProtocol All -SSLv2 -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite HIGH:!aNULL:!MD5:!3DES
    SSLHonorCipherOrder on

    # Proxy to Node.js app
    ProxyPreserveHost On
    ProxyPass / http://galleryapp:3000/
    ProxyPassReverse / http://galleryapp:3000/

    ErrorLog /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined
</VirtualHost>
